<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
</head>
<body>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="../js/apiRequest.js"></script>

    <script>
        function Judgelogin() {
            target = document.getElementById("output");
            userid =  document.forms.test.inputId.value;
            password = document.forms.test.inputPassword.value;
            parameters = 'user_id=' + userid + '&' + 'password=' + password;
            console.log(parameters);

            get_need_response('POST', 'http://54.238.92.95:8080/api/v1/auth/login', parameters, 'is_admin', function(true_or_false) {
                isLoginFlag = true_or_false;
                console.log(isLoginFlag);

                if (isLoginFlag === true) {
                    document.location.href = 'home.html';
                } else {
                    // document.location.href = '../test/test3.html';
                    alert('ログインに失敗しました。')
                }
            });
        }
    </script>
<form name="non" id="test">
<div class="container">
    <div class="row">
        <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
            <div class="card card-signin my-5">
                <div class="card-body">
                    <h5 class="card-title text-center">Welcome!</h5>
                        <div class="form-label-group">
                            <input type="signIn" id="inputId" class="form-control" name="signInId" placeholder="Sign in ID" required autofocus>
                            <label>sign in ID</label>
                        </div>

                        <div class="form-label-group">
                            <input type="password" id="inputPassword" class="form-control" name="password" placeholder="Password" required>
                            <label for="inputPassword">Password</label>
                        </div>
                        <button type="button" onclick="Judgelogin()" class="btn btn-lg btn-primary btn-block text-uppercase">Sign in</button>
                        <hr class="my-4">
                </div>
            </div>
        </div>
    </div>
</div>
</form>
</body>
</html>